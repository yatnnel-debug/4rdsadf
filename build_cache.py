#!/usr/bin/env python3
"""
Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ´Ğ»Ñ Ğ¿Ğ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸Ñ ĞºÑÑˆĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¿Ğ¾Ğ´Ğ°Ñ€ĞºĞ¾Ğ²
Ğ—Ğ°Ğ¿ÑƒÑĞº: python3 build_cache.py
"""

from gift_data import build_gifts_cache, get_unique_gifts

if __name__ == "__main__":
    print("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—")
    print("â•‘   ĞŸĞ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸Ğµ ĞºÑÑˆĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¿Ğ¾Ğ´Ğ°Ñ€ĞºĞ¾Ğ² Ğ¸Ğ· API changes.tg   â•‘")
    print("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n")
    
    # ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµĞ¼ Ğ’Ğ¡Ğ• Ğ¿Ğ¾Ğ´Ğ°Ñ€ĞºĞ¸
    all_gifts = get_unique_gifts()
    print(f"ğŸ“¦ ĞĞ°Ğ¹Ğ´ĞµĞ½Ğ¾ {len(all_gifts)} Ğ¿Ğ¾Ğ´Ğ°Ñ€ĞºĞ¾Ğ² Ğ´Ğ»Ñ ĞºÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ\n")
    
    # Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ»Ñ Ğ’Ğ¡Ğ•Ğ¥ Ğ¿Ğ¾Ğ´Ğ°Ñ€ĞºĞ¾Ğ²
    cache = build_gifts_cache(gift_list=all_gifts)
    
    print("\n" + "="*60)
    print("Ğ“ĞĞ¢ĞĞ’Ğ!")
    print(f"ĞšÑÑˆ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½ Ğ²: cache/gifts_data.json")
    print(f"ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¾: {cache.get('updated_at')}")
    print(f"ĞŸĞ¾Ğ´Ğ°Ñ€ĞºĞ¾Ğ²: {len(cache.get('gifts', {}))}")
    print("="*60)
